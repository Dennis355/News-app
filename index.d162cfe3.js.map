{"mappings":"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","sources":["src/js/index.js","src/js/filter.js","src/js/weather-api.js","<<jsx-config-pragma.js>>"],"sourcesContent":["import './header';\n\nimport './filter';\nimport './markup';\n\nimport WEATHER_API from './weather-api';\n\n\nconst weatherApi = new WEATHER_API();\n\n\n\n\n\nnavigator.geolocation.getCurrentPosition(onLocationSuccess, onLocationError);\n\nasync function onLocationSuccess(pos) {\n  weatherApi.latitude = pos.coords.latitude;\n  weatherApi.longitude = pos.coords.longitude;\n\n  return weatherApi.fetchWidthLocation().then(response => {\n    weatherApi.createWeatherMarkup(response);\n  });\n}\nfunction onLocationError() {\n  weatherApi\n    .standartFetch()\n    .then(response => weatherApi.createWeatherMarkup(response));\n}\n\nimport './news-text-hiding';\n\n","const KEY = 'A3GIIfyPWHBvfJdoXANwrFAEAGEQbzXw';\n\nexport default async function getCategoryList() {\n  const fetchApi = await fetch(\n    `https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=${KEY}`\n  );\n  const response = await fetchApi.json();\n  const categoriesAray = response.results;\n  return categoriesAray;\n}\n\nasync function renderCategoryList() {\n  let buttonsQuantity = 0;\n  if (window.innerWidth < 768) {\n    getCategoryList().then(categoryList => {\n      renderMarkupFilter(categoryList, buttonsQuantity);\n    });\n  }\n  if (window.innerWidth >= 768 && window.innerWidth < 1280) {\n    buttonsQuantity = 4;\n    getCategoryList().then(categoryList => {\n      renderMarkupFilter(categoryList, buttonsQuantity);\n    });\n  }\n  if (window.innerWidth >= 1280) {\n    buttonsQuantity = 6;\n    getCategoryList().then(categoryList => {\n      renderMarkupFilter(categoryList, buttonsQuantity);\n    });\n  }\n}\n\n\n\nconst renderMarkupFilter = (array, amount) => {\n  const buttonsArray = array.slice(0, amount);\n  const dropdownArray = array.slice(amount, -1);\n\n  let readyMarkup = [];\n  readyMarkup = buttonsArray.map(\n    button =>\n      `<button data-section=${button.section} class=\"btn\">${button.display_name}</button>`\n  );\n\n  const svg = `<svg class = \"show-more__icon\" width=\"14\" height=\"14\">\n    <g clip-path=\"url(#a)\">\n        <path d=\"M1.645 4 0 5.522 7 12l7-6.478L12.355 4 7 8.945 1.645 4Z\" />\n    </g>\n    <defs>\n        <clipPath id=\"a\">\n            <path fill=\"#fff\" d=\"M0 0h14v14H0z\" />\n        </clipPath>\n    </defs>\n</svg>`;\n  \n  readyMarkup.push(`\n    <div class=\"btn show-more\">\n\n  <div class=\"text-icon_block\">\n  <span class=\"show-more_btn\">${window.innerWidth < 768 ? 'Categories' : 'Others'}</span>\n    ${svg}\n  </div>\n  <div class=\"show-more__categories\">\n  ${dropdownArray\n    .map(\n      item =>\n        `<button class=\"show-more__category\" data-section=${item.section}>${item.display_name}</button>`\n    )\n    .join('')}\n  </div>\n</div>\n  `);\n\n  document\n    .getElementById('buttons-container')\n    .insertAdjacentHTML('beforeend', readyMarkup.join(''));\n  const showMoreButton = document.querySelector('.show-more');\n  const showMoreCategories = document.querySelector('.show-more__categories');\n  const closeCategories = () => {\n    if (showMoreCategories.classList.contains('show-more__categories--open')) {\n      showMoreCategories.classList.remove('show-more__categories--open');\n    }\n  };\n  showMoreButton.addEventListener('click', event => {\n    event.stopPropagation();\n    showMoreCategories.classList.toggle('show-more__categories--open');\n  });\n  document.addEventListener('click', closeCategories);\n  onClickSection();\n};\n\nfunction onClickSection() {\n  const buttons = document.querySelectorAll('.btn');\n  let activeButton = null;\n  buttons.forEach(button => {\n    button.addEventListener('click', e => {\n      if (activeButton !== null) {\n        activeButton.classList.remove('active');\n      }\n      button.classList.add('active');\n      activeButton = button;\n    });\n    // window.addEventListener('click', e => activeButton.classList.remove('active') )\n  });\n  \n}\nrenderCategoryList();\n\nconst handleResize = () => {\n  let nameBtn = document.querySelector('.show-more_btn');\n  const windowWidth = window.innerWidth;\n  if (windowWidth < 768) {\n    nameBtn.textContent = 'Categories';\n  } else {\n    nameBtn.textContent = 'Others';\n  }\n};\n\nwindow.addEventListener('resize', handleResize);\n","const API_KEY = '94b2a12c85f4ec978a20428df76a9098';\nimport { format } from 'date-fns';\n\n\n\nexport default class WEATHER_API {\n  constructor() {\n    (this.latitude = ''), (this.longitude = '');\n  }\n  async standartFetch() {\n    const response = await fetch(\n      `https://api.openweathermap.org/data/2.5/weather?q=praha&units=metric&appid=${API_KEY}`\n    );\n    return response.json();\n  }\n  async fetchWidthLocation() {\n    const response = await fetch(\n      `https://api.openweathermap.org/data/2.5/weather?lat=${this.latitude}&lon=${this.longitude}&units=metric&appid=${API_KEY}`\n    );\n    return response.json();\n  }\n  async createWeatherMarkup(response) {\n    const weatherMarkup = `\n   <div class=\"weather-info\">\n       <span class=\"weather-info__degrees\">${Math.floor(\n         response.main.temp\n       )}Â°</span>\n        <div class=\"weather-info__group\">\n            <span class=\"weather-info__description\">${\n              response.weather[0].main\n            }</span>\n            <span class=\"weather-info__location\"><svg>\n    <use href=\"../images/sprite.svg#location\"></use>\n</svg>${response.name}</span>\n        </div>\n        \n      </div>\n      <img src=\"https://openweathermap.org/img/wn/${\n        response.weather[0].icon\n      }@4x.png\" alt=\"${response.weather[0].description}\" class=\"weather-img\" />\n      <span class=\"weather-date\">${format(new Date(), 'eee')}</span>\n      <span class=\"weather-date\">${format(new Date(), 'dd LLL y')}</span>\n      <a href=\"https://www.accuweather.com/en\" class=\"weather-link\" target=\"_blank\" rel=\"noreferrer noopener\">weather for week</a>`;\n    \n      return weatherMarkup\n  }\n}\n",null],"names":["$bpxeT","parcelRequire","$6142fea1849c7fbd$var$KEY","$6142fea1849c7fbd$var$_getCategoryList","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","fetchApi","response","categoriesAray","fetch","concat","_ctx","sent","json","results","$6142fea1849c7fbd$var$_renderCategoryList","buttonsQuantity","window","innerWidth","$6142fea1849c7fbd$export$2e2bcd8739ae039","then","categoryList","$6142fea1849c7fbd$var$renderMarkupFilter","array","amount","buttonsArray","slice","dropdownArray","readyMarkup","map","button","section","display_name","push","item","join","document","getElementById","insertAdjacentHTML","buttons","activeButton","showMoreButton","querySelector","showMoreCategories","addEventListener","event","stopPropagation","classList","toggle","contains","remove","querySelectorAll","forEach","e","add","$6142fea1849c7fbd$var$renderCategoryList","nameBtn","windowWidth","textContent","$192cc02a110af10c$var$API_KEY","$192cc02a110af10c$export$2e2bcd8739ae039","WEATHER_API","latitude","longitude","key","_this","weatherMarkup","Math","floor","main","temp","weather","name","icon","description","$lAGvK","format","Date","$44ae6d9db4eaca0f$var$weatherApi","$44ae6d9db4eaca0f$var$_onLocationSuccess","pos","coords","fetchWidthLocation","createWeatherMarkup","navigator","geolocation","getCurrentPosition","standartFetch"],"version":3,"file":"index.d162cfe3.js.map"}