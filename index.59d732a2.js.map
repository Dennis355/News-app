{"mappings":"AAEeA,eAAAC,IACb,MAAMC,QAAiBC,MACrB,0GAIF,aAFuBD,EAASE,QACAC,O,CAyBlC,MAAMC,EAAqB,CAACC,EAAOC,KACjC,MAAMC,EAAeF,EAAMG,MAAM,EAAGF,GAC9BG,EAAgBJ,EAAMG,MAAMF,GAAQ,GAC1C,IAAII,EAAc,GAClBA,EAAcH,EAAaI,KACzBC,GACE,wBAAwBA,EAAOC,uBAAuBD,EAAOE,0BAEjEJ,EAAYK,KAAK,gIAKfN,EACCE,KACCK,GACE,oDAAoDA,EAAKH,WAAWG,EAAKF,0BAE5EG,KAAK,6BAKRC,SACGC,eAAe,qBACfC,mBAAmB,YAAaV,EAAYO,KAAK,KACpDC,SACGG,cAAc,cACdC,iBAAiB,SAAS,IACzBJ,SACGG,cAAc,0BACdE,UAAUC,OAAO,iCAK1B,WACE,MAAMC,EAAUP,SAASQ,iBAAiB,QAC1C,IAAIC,EAAe,KACnBF,EAAQG,SAAQhB,IACdA,EAAOU,iBAAiB,SAASO,IACV,OAAjBF,GACFA,EAAaJ,UAAUO,OAAO,UAEhClB,EAAOW,UAAUQ,IAAI,UACrBJ,EAAef,EACfa,EAAQG,SAAQI,IACVA,IAAQL,GACVK,EAAIC,MAAMC,gBAAkB,UAC5BF,EAAIC,MAAME,MAAQ,SAElBH,EAAIC,MAAMC,gBAAkB,GAC5BF,EAAIC,MAAME,MAAQ,W,GAEpB,GACF,G,CAtBJC,EAAgB,GAtDlBtC,iBACE,IAAIuC,EAAkB,EAClBC,OAAOC,WAAa,KACtBxC,IAAkByC,MAAKC,IACrBrC,EAAmBqC,EAAcJ,EAAgB,IAGjDC,OAAOC,YAAc,KAAOD,OAAOC,WAAa,OAClDF,EAAkB,EAClBtC,IAAkByC,MAAKC,IACrBrC,EAAmBqC,EAAcJ,EAAgB,KAGjDC,OAAOC,YAAc,OACvBF,EAAkB,EAClBtC,IAAkByC,MAAKC,IACrBrC,EAAmBqC,EAAcJ,EAAgB,I,CA+DvDK","sources":["src/js/filter.js"],"sourcesContent":["const KEY = 'A3GIIfyPWHBvfJdoXANwrFAEAGEQbzXw';\n\nexport default async function getCategoryList() {\n  const fetchApi = await fetch(\n    `https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=${KEY}`\n  );\n  const response = await fetchApi.json();\n  const categoriesAray = response.results;\n  return categoriesAray;\n}\n\nasync function renderCategoryList() {\n  let buttonsQuantity = 0;\n  if (window.innerWidth < 768) {\n    getCategoryList().then(categoryList => {\n      renderMarkupFilter(categoryList, buttonsQuantity);\n    });\n  }\n  if (window.innerWidth >= 768 && window.innerWidth < 1280) {\n    buttonsQuantity = 4;\n    getCategoryList().then(categoryList => {\n      renderMarkupFilter(categoryList, buttonsQuantity);\n    });\n  }\n  if (window.innerWidth >= 1280) {\n    buttonsQuantity = 6;\n    getCategoryList().then(categoryList => {\n      renderMarkupFilter(categoryList, buttonsQuantity);\n    });\n  }\n}\n\nconst renderMarkupFilter = (array, amount) => {\n  const buttonsArray = array.slice(0, amount);\n  const dropdownArray = array.slice(amount, -1);\n  let readyMarkup = [];\n  readyMarkup = buttonsArray.map(\n    button =>\n      `<button data-section=${button.section} class=\"btn\">${button.display_name}</button>`\n  );\n  readyMarkup.push(`\n    <div class=\"btn show-more\">\n  <span class=\"show-more_btn\">Others</span>\n  \n  <div class=\"show-more__categories\">\n  ${dropdownArray\n    .map(\n      item =>\n        `<button class=\"show-more__category\" data-section=${item.section}>${item.display_name}</button>`\n    )\n    .join('')}\n  </div>\n</div>\n  `);\n\n  document\n    .getElementById('buttons-container')\n    .insertAdjacentHTML('beforeend', readyMarkup.join(''));\n  document\n    .querySelector('.show-more')\n    .addEventListener('click', () =>\n      document\n        .querySelector('.show-more__categories')\n        .classList.toggle('show-more__categories--open')\n    );\n  onClickSection();\n};\n\nfunction onClickSection() {\n  const buttons = document.querySelectorAll('.btn');\n  let activeButton = null;\n  buttons.forEach(button => {\n    button.addEventListener('click', e => {\n      if (activeButton !== null) {\n        activeButton.classList.remove('active');\n      }\n      button.classList.add('active');\n      activeButton = button;\n      buttons.forEach(btn => {\n        if (btn === activeButton) {\n          btn.style.backgroundColor = '#4440F6';\n          btn.style.color = '#fff';\n        } else {\n          btn.style.backgroundColor = '';\n          btn.style.color = '#4440F6 ';\n        }\n      });\n    });\n  });\n}\nrenderCategoryList();\n"],"names":["async","$cc8167df025acb14$export$2e2bcd8739ae039","fetchApi","fetch","json","results","$cc8167df025acb14$var$renderMarkupFilter","array","amount","buttonsArray","slice","dropdownArray","readyMarkup","map","button","section","display_name","push","item","join","document","getElementById","insertAdjacentHTML","querySelector","addEventListener","classList","toggle","buttons","querySelectorAll","activeButton","forEach","e","remove","add","btn","style","backgroundColor","color","$cc8167df025acb14$var$onClickSection","buttonsQuantity","window","innerWidth","then","categoryList","$cc8167df025acb14$var$renderCategoryList"],"version":3,"file":"index.59d732a2.js.map"}