{"mappings":"YAUA,SAASA,IACHC,KAAKC,QACLC,EAAKC,UAAUC,IAAI,QAEnBF,EAAKC,UAAUE,OAAO,O,CAG5B,IAAMC,EAAaC,SAASC,cAAc,uBACpCC,EAAYF,SAASC,cAAc,eACnCE,EAAeH,SAASC,cAAc,kBACtCG,EAAmBJ,SAASC,cAAc,qBAC1CI,EAAkBL,SAASC,cAAc,sBACzCK,EAAaN,SAASC,cAAc,gBACpCM,EAAWP,SAASC,cAAc,aAClCO,EAAiBR,SAASC,cAAc,oBACxCN,EAAOK,SAASC,cAAc,QACpCF,EAAWU,iBAAiB,SA1B5B,WACIP,EAAUN,UAAUC,IAAI,WACxBE,EAAWH,UAAUC,IAAI,S,IAyB7BO,EAAiBK,iBAAiB,SAvBlC,WACIH,EAAWV,UAAUE,OAAO,S,IAuBhCO,EAAgBI,iBAAiB,SArBjC,WACIH,EAAWV,UAAUC,IAAI,S,IAqB7BU,EAASE,iBAAiB,SAAUjB,GACpCgB,EAAeC,iBAAiB,SAAUjB,GAE1CW,EAAaM,iBAAiB,SAEQ,SAAXC,GACvBA,EAAIC,iBACJC,QAAQC,IAAI,iE,ICnChB,IAAMC,EAAe,gBAEJd,SAASC,cAAc,mBAC/BQ,iBAAiB,SAsBgB,SAAdM,GAC1B,IAAMC,EAASD,EAAEE,OAAOC,QAAQ,4BAChC,IAAKF,EAAQ,OAGUA,EAAhBpB,UAAUuB,OAAO,mBAExB,IAAIC,EAAsBC,EAAKP,IAAiB,GAC1CQ,EAAON,EAAOE,QAAQ,oBAEtBK,EAAKD,EAAKE,aAAa,MACvBC,EAAWH,EAAKrB,cAAc,mBAAmBuB,aAAa,OAC9DE,EAAUJ,EAAKrB,cAAc,wBAAwB0B,YACrDC,EAAQN,EAAKrB,cAAc,qBAAqB0B,YAChDE,EAAWP,EAAKrB,cAAc,2BAA2B0B,YACzDG,EAAiBR,EAAKrB,cAAc,oBAAoB0B,YACxDI,EAAMT,EAAKrB,cAAc,yBAAyBuB,aAAa,QAG/DQ,EAAe,CACnBT,KACAE,WACAC,UACAE,QACAC,WACAC,iBACAC,OAGyBX,EAAoBa,MAC7C,SAAAC,G,OAAQF,EAAaT,KAAOA,C,MAK5BH,EAAoBe,KAAK,CAACH,IAC1BI,EAAKtB,EAAcM,IAIL,GAAZJ,EAAOpB,UAAUyC,SAAS,mBAAoB,CAChDrB,EAAOW,YAAc,kBACrB,IAAMW,EAAsBlB,EAAoBmB,QAC9C,SAAAC,G,OAAQR,EAAaT,KAAOA,C,IAE9Ba,EAAKtB,EAAcwB,GAGdtB,EAAOpB,UAAUyC,SAAS,qBAC7BrB,EAAOW,YAAc,uBACrBS,EAAKtB,EAAc,CAACkB,I,KArET,IAAXI,EAAO,SAACK,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPpC,QAAQoC,MAAM,oBAAqBA,EAAMC,Q,GAIvC5B,EAAO,SAAAoB,GACX,IACE,IAAME,EAAkBG,aAAaI,QAAQT,GAC7C,OAA2B,OAApBE,OAA2BQ,EAAYP,KAAKQ,MAAMT,E,CACzD,MAAOK,GACPpC,QAAQoC,MAAMA,EAAMC,Q","sources":["src/js/header.js","src/js/favourite.js"],"sourcesContent":["function openSearchBar() {\n    searchBar.classList.add('visible');\n    searchIcon.classList.add('hidden');\n}\nfunction openMenu() {\n    mobileMenu.classList.remove('hidden');\n}\nfunction closeMenu() {\n    mobileMenu.classList.add('hidden');\n}\nfunction darkMode() {\n  if (this.checked) {\n      body.classList.add('dark');\n  } else {\n      body.classList.remove('dark');\n  }\n}\nconst searchIcon = document.querySelector('.open-search-button');\nconst searchBar = document.querySelector('.search-bar');\nconst searchButton = document.querySelector('.submit-button');\nconst burgerMenuButton = document.querySelector('.open-menu-button');\nconst closeMenuButton = document.querySelector('.close-menu-button');\nconst mobileMenu = document.querySelector('.mobile-menu');\nconst checkbox = document.querySelector('.checkbox');\nconst mobileCheckbox = document.querySelector('.mobile-checkbox');\nconst body = document.querySelector('body');\nsearchIcon.addEventListener('click', openSearchBar);\nburgerMenuButton.addEventListener('click', openMenu);\ncloseMenuButton.addEventListener('click', closeMenu);\ncheckbox.addEventListener('change', darkMode);\nmobileCheckbox.addEventListener('change', darkMode);\n\nsearchButton.addEventListener('click', searchTematicNews); // searchTematicNews - функція має бути імпортована з іншого модулю\n\nfunction searchTematicNews(evt) {\n    evt.preventDefault();\n    console.log('функція searchTematicNews має бути імпортована з іншого модулю');\n}\n","import './header';\nconst KEY_FAV_NEWS = 'favorite-news';\n\nconst newsList = document.querySelector('news-card__list');\nnewsList.addEventListener('click', onFavoriteBtnClick);\n\n// функції для роботи з local storage\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\n// додавання та видалення новин до storage по кліку на кнопку\nfunction onFavoriteBtnClick(e) {\n  const favBtn = e.target.closest('.news-card__btn-favorite');\n  if (!favBtn) return;\n\n  // перемикає додатковий клас\n  favBtn.classList.toggle('remove-from-fav');\n\n  let currentStorageState = load(KEY_FAV_NEWS) || [];\n  const card = favBtn.closest('.news-card__item');\n\n  const id = card.getAttribute('id');\n  const urlMedia = card.querySelector('.news-card__img').getAttribute('src');\n  const section = card.querySelector('.news-card__category').textContent;\n  const title = card.querySelector('.news-card__title').textContent;\n  const abstract = card.querySelector('.news-card__description').textContent;\n  const published_date = card.querySelector('.news-card__date').textContent;\n  const url = card.querySelector('.news-card__read-more').getAttribute('href');\n\n  // об'єкт, що зберігається у сховищі\n  const selectedNews = {\n    id,\n    urlMedia,\n    section,\n    title,\n    abstract,\n    published_date,\n    url,\n  };\n\n  const isAlreadyInStorage = currentStorageState.some(\n    news => selectedNews.id === id\n  );\n\n  // перевірка чи є у сховищі\n  if (!isAlreadyInStorage) {\n    currentStorageState.push([selectedNews]);\n    save(KEY_FAV_NEWS, currentStorageState);\n  }\n\n  // видалає зі сховища\n  if (favBtn.classList.contains('remove-from-fav')) {\n    favBtn.textContent = 'Add to favorite';\n    const updatedStorageState = currentStorageState.filter(\n      item => selectedNews.id !== id\n    );\n    save(KEY_FAV_NEWS, updatedStorageState);\n\n    // додає до сховища\n    if (!favBtn.classList.contains('remove-from-fav')) {\n      favBtn.textContent = 'Remove from favorite';\n      save(KEY_FAV_NEWS, [selectedNews]);\n    }\n  }\n}\n\n// рендер карток\nfunction renderFavorites() {\n  const favoritesContainer = document.querySelector('.favorites-list');\n\n  favoritesContainer.innerHTML = '';\n\n  const favorites = load(KEY_FAV_NEWS);\n\n  for (const favorite of favorites) {\n    const card = createNewsCard(favorite);\n    favoritesContainer.appendChild(card);\n  }\n}\n\n// написати функцію createNewsCard\n"],"names":["$d35165bd5db5382a$var$darkMode","this","checked","$d35165bd5db5382a$var$body","classList","add","remove","$d35165bd5db5382a$var$searchIcon","document","querySelector","$d35165bd5db5382a$var$searchBar","$d35165bd5db5382a$var$searchButton","$d35165bd5db5382a$var$burgerMenuButton","$d35165bd5db5382a$var$closeMenuButton","$d35165bd5db5382a$var$mobileMenu","$d35165bd5db5382a$var$checkbox","$d35165bd5db5382a$var$mobileCheckbox","addEventListener","evt","preventDefault","console","log","$47799112dc97d416$var$KEY_FAV_NEWS","e","favBtn","target","closest","toggle","currentStorageState","$47799112dc97d416$var$load","card","id","getAttribute","urlMedia","section","textContent","title","abstract","published_date","url","selectedNews","some","news","push","$47799112dc97d416$var$save","contains","updatedStorageState","filter","item","key","value","serializedState","JSON","stringify","localStorage","setItem","error","message","getItem","undefined","parse"],"version":3,"file":"favourite.000eb89e.js.map"}